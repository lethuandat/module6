<div class="container">

  <div class="row mt-5">
    <h3 align="center">DANH SÁCH CƠ SỞ GYM & FITNESS</h3>
  </div>

  <div class="row mt-3">
    <div class="col-lg-2">
      <div class="float-start">
        <a routerLink="/campus/create">
          <button type="button" class="btn btn-outline-primary">
            Thêm mới
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                 class="bi bi-clipboard-plus" viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                    d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"/>
              <path
                d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
              <path
                d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
            </svg>
          </button>
        </a>
      </div>

    </div>

    <div class="col-lg-4">
      <input class="form-control find" type="search" [(ngModel)]="campusName" name="campusName"
             placeholder="Nhập tên cơ sở" (keydown.enter)="search()" aria-label="Search">
    </div>
    <div class="col-lg-4">
      <input class="form-control find" type="search" [(ngModel)]="employeeName" name="employeeName"
             placeholder="Nhập người quản lý" (keydown.enter)="search()" aria-label="Search">

    </div>

    <div class="col-lg-2">
      <div class="float-end">
        <button class="btn btn-outline-primary btn-search" (click)="search()">
          Tìm kiếm
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-search"
               viewBox="0 0 16 16">
            <path
              d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <table class="table table-striped table-bordered" id="tableCustomer" style="width:100%">
      <thead>
      <tr class="table-success">
        <th>STT</th>
        <th>Tên cơ sở</th>
        <th>Ngày khai trương</th>
        <th>Địa chỉ</th>
        <th>Người quản lý</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr
        *ngFor="let item of campus; index as i">
        <td>{{i + 1}}</td>
        <td>{{item.name}}</td>
        <td>{{item.date | date: 'dd/MM/yyyy'}}</td>
        <td>{{item.address}}</td>
        <td>
          <a (click)="openInfo(item)" data-bs-toggle="modal" data-bs-target="#exampleModal2">
          {{item.employee.name}} <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill text-info" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
          </svg>
          </a>
        </td>
        <td>
          <svg (click)="openDelete(item)" data-bs-toggle="modal" data-bs-target="#exampleModal"
               xmlns="http://www.w3.org/2000/svg"
               width="16" height="16" fill="currentColor"
               class="bi bi-trash text-danger" viewBox="0 0 16 16">
            <path
              d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
            <path fill-rule="evenodd"
                  d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
          </svg>
        </td>
      </tr>
      </tbody>
    </table>
    <div style="height: 50px;position: relative" class="container pagination-advertisement mb-3">
      <ul class="pagination justify-content-end" style="text-align: right">
        <li>
          <select class="form-select selectOnMollibe" (change)="totalElement($event)">
            <option class="nav-link" value="5">5</option>
            <option class="nav-link" value="10">10</option>
            <option class="nav-link" value="15">15</option>
            <option class="nav-link" value="full">Tất cả</option>
          </select>
        </li>
        <li class="page-item">
            <span style="margin: 0 20px 0 40px" class="pageText">
             {{pageSize * indexPagination + 1}} - {{pageSize * indexPagination + numberOfElement}}
              trên {{totalElements}}
   </span>
          <button (click)="previousPage($event)" [ngStyle]="{'display':previousPageStyle}" type="button"
                  class="btn btn-outline-primary arrow-left">
            <i class="bi bi-chevron-left"></i>
          </button>
          <button (click)="nextPage($event)" [ngStyle]="{'display':nextPageStyle}" style="margin-left: 10px"
                  type="button"
                  class="btn btn-outline-primary arrow-right">
            <i class="bi bi-chevron-right"></i>
          </button>
        </li>
      </ul>
    </div>

  </div>

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
       aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-danger">
          <h5 class="modal-title text-light" id="exampleModalLabel">Cảnh báo</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Bạn có muốn xóa cơ sở <span class="text-danger">{{nameDelete}}</span> không ?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Hủy
          </button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="delete(idDelete)">Xóa</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2"
       aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-primary">
          <h5 class="modal-title text-light" id="exampleModalLabel2">Chi tiết nhân viên</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Mã nhân viên: {{infoId}}</p>
          <p>Tên nhân viên: {{infoName}}</p>
          <p>Ngày sinh: {{infoDate | date: 'dd/MM/yyyy'}}</p>
          <p>Giới tính: {{infoGender == true ? 'Nam' : 'Nữ'}}</p>
          <p>Vị trí: {{infoPlacement}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Đóng
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

